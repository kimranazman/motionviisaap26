# Feature Landscape: v2.1 Navigation, Cross-Project Tasks & Member Workload

**Domain:** Collapsible sidebar navigation, cross-project task aggregation, per-member workload dashboards
**Researched:** 2026-01-27
**Confidence:** HIGH (patterns well-established in PM tools; codebase thoroughly analyzed)

---

## Current State Analysis

Before defining features, here is what SAAP 2026 already has that these features build upon.

**Sidebar (sidebar.tsx + mobile-sidebar.tsx):**
- 8 SAAP nav items as a flat list (Dashboard, By Objective, Timeline, Kanban, Calendar, Initiatives, Support Tasks, Events to Attend)
- 6 CRM nav items under a static "CRM" label header (Companies, Pipeline, Potential Projects, Projects, Suppliers, Price Comparison)
- 1 Admin item behind role gate (Users)
- 1 Settings item with top-border separator
- Navigation groups are static text labels, NOT collapsible -- every item is always visible
- Mobile sidebar uses Sheet (shadcn/ui) with identical nav structure
- Active state detection via `usePathname()` matching

**Tasks (per-project only):**
- Task model: title, description, status (TODO/IN_PROGRESS/DONE), priority (LOW/MEDIUM/HIGH), dueDate, assignee (TeamMember enum), subtask hierarchy (5 levels), comments, tags
- API: `GET/POST /api/projects/[id]/tasks`, `PATCH/DELETE /api/projects/[id]/tasks/[taskId]`
- UI: TaskCard component (list view with status/priority badges, assignee, due date, subtask count)
- No standalone /tasks page exists -- tasks are only visible within individual project detail pages
- No kanban view for tasks (kanban board only exists for Initiatives)

**Team Members:**
- TeamMember enum: KHAIRUL, AZLAN, IZYANI (3-person team)
- Used as assignee on: Task, Initiative (personInCharge + accountable), KeyResult (owner as string), SupportTask (owner as string)
- TeamWorkload dashboard widget shows initiative count per person with progress bars
- KanbanSwimlaneView shows initiatives grouped by person with status columns
- No /members page exists -- no way to see all work assigned to one person across entities

**Existing UI Patterns:**
- Collapsible primitive already installed: `@radix-ui/react-collapsible` (used in `src/components/ui/collapsible.tsx`)
- View toggle pattern exists in two forms:
  - Route-based: ViewModeToggle links between /objectives, /initiatives, /kanban, /timeline, /calendar
  - State-based: KanbanBoard uses Tabs (Board vs By Person) toggling in-page view
- Kanban board with dnd-kit drag-and-drop already implemented for initiatives
- Filter patterns: search, person, key result, date filters on Kanban; category filters on Support Tasks

---

## Table Stakes

Features users expect for v2.1 to be considered complete. Missing = milestone feels unfinished.

### 1. Collapsible Sidebar Navigation Groups

| # | Feature | Why Expected | Complexity | Notes |
|---|---------|-------------|------------|-------|
| TS-01 | SAAP section as collapsible group | With 16+ nav items, the sidebar is a wall of links. Every modern admin sidebar (Notion, Linear, Slack) groups items into collapsible sections. The SAAP section header already exists as static text -- making it collapsible is the minimum improvement. | Low | Use existing `Collapsible` + `CollapsibleTrigger` + `CollapsibleContent` from `@radix-ui/react-collapsible` already in the codebase. Wrap the 8 SAAP nav items. Add ChevronRight/ChevronDown icon to label. |
| TS-02 | CRM section as collapsible group | CRM already has a "CRM" label header. Same treatment as SAAP section. Users who are doing strategic planning (SAAP work) rarely need CRM nav items visible simultaneously. | Low | Same pattern as TS-01. Wrap 6 CRM nav items. |
| TS-03 | Admin section as collapsible group | Admin section exists behind role gate. Same collapsible treatment for consistency. | Low | Same pattern. Only 1 item currently (Users), but group structure allows future admin items. |
| TS-04 | Chevron rotation animation on collapse toggle | Visual indicator showing open/closed state. Every implementation of collapsible nav uses a rotating chevron (Notion, VS Code, GitHub). Without it, users have no affordance that sections are toggleable. | Low | CSS `transition-transform` with `rotate-90` when open. Standard pattern. |
| TS-05 | Persist collapse state across page navigations | If sections collapse but reset on every navigation, it is useless. Users set their preferred layout once. Must persist in localStorage (not server-side -- 3-person team does not need cross-device sync). | Low | `useEffect` to read from localStorage on mount. `localStorage.setItem` on toggle. Key per section: `sidebar-saap-open`, `sidebar-crm-open`, `sidebar-admin-open`. |
| TS-06 | Default open state: all sections expanded | First-time users should see all nav items. Collapsing is opt-in, not opt-out. If defaulted to collapsed, new users would not know items exist. | None | `defaultOpen={true}` on each Collapsible. localStorage overrides after first interaction. |
| TS-07 | Auto-expand section containing active route | If user navigates to /projects (CRM section) but CRM is collapsed, auto-expand CRM. Active item must always be visible. This is standard behavior in VS Code, GitHub, Notion sidebars. | Medium | On pathname change, check which section contains the active route. If that section is collapsed, expand it. Must not fight with user's manual collapse (only auto-expand, never auto-collapse). |
| TS-08 | Mobile sidebar matches collapsible behavior | Mobile sidebar (Sheet) must mirror desktop collapsible groups. Currently mobile-sidebar.tsx duplicates navigation items separately. Refactor to share nav config. | Medium | Extract shared `NAV_CONFIG` array with sections. Both sidebar.tsx and mobile-sidebar.tsx consume same config. Avoids drift. |
| TS-09 | Section item count badge (optional) | Show count of items in collapsed section header, e.g., "SAAP (8)" or "CRM (6)". Helps users know what is hidden. Common in email clients (unread count) and file explorers. | Low | Static count from nav config length. Not dynamic data -- just navigation item count. |
| TS-10 | New nav items: Tasks and Members | Add "Tasks" (link to /tasks) in SAAP section and "Members" (link to /members) in SAAP section. These are the new pages being built in v2.1. | Low | Two new entries in SAAP nav config. Icons: `CheckSquare` for Tasks, `Users` for Members (or `UserCircle` to differentiate from Admin Users). |

### 2. Cross-Project Tasks Page (/tasks)

| # | Feature | Why Expected | Complexity | Notes |
|---|---------|-------------|------------|-------|
| TS-11 | `/tasks` route showing all tasks across all projects | Core premise of this feature. Currently tasks are siloed inside `/projects/[id]`. A team member needs to see ALL their tasks in one place -- this is the "My Tasks" concept from Asana/Linear/ClickUp. Without it, a person with tasks in 5 projects must visit 5 pages. | Medium | New page at `src/app/(dashboard)/tasks/page.tsx`. Server component fetches all tasks with project relation included. API: new `GET /api/tasks` (no project scoping). |
| TS-12 | Table view of all tasks | Default view. Shows tasks in a data table with columns: Task Title, Project Name, Status, Priority, Assignee, Due Date, Tags. Sortable columns. This is how Asana List View, Linear Issues, and every PM tool displays tasks at the cross-project level. | Medium | Use shadcn/ui Table or DataTable pattern. Must include project name column (tasks from different projects need context). Each row links to task detail (either inline expand or navigate to project). |
| TS-13 | Kanban view of tasks by status | Alternate view. Tasks displayed on a kanban board with columns: To Do, In Progress, Done. Cards show task title, project name (small badge), priority, assignee avatar, due date. Matches existing Initiative kanban pattern. | Medium | Reuse kanban component patterns from existing KanbanBoard. Columns map to TaskStatus enum (TODO, IN_PROGRESS, DONE). Cards need project context badge since tasks come from multiple projects. |
| TS-14 | Toggle between Table and Kanban views | View switcher in page header. Tab-style toggle (Table icon + Kanban icon). State-based toggle (not route-based) since both views share the same data and filters. | Low | Use Tabs component (same pattern as KanbanBoard's Board/By Person toggle). Store view preference in state. Optionally persist in localStorage. |
| TS-15 | Filter by assignee (TeamMember) | Filter tasks to show only one person's tasks. Dropdown: All, Khairul, Azlan, Izyani. Essential for "show me my tasks" use case. | Low | Reuse KanbanFilterBar person filter pattern. Apply to both table and kanban views. |
| TS-16 | Filter by project | Filter tasks to show only one project's tasks. Dropdown populated from projects that have tasks. Essential when cross-project list gets long. | Low | Fetch distinct projects from task data. Standard select dropdown filter. |
| TS-17 | Filter by status | Filter tasks by TODO, IN_PROGRESS, DONE. Quick filters or dropdown. Both views need this (table view especially, since kanban view inherently shows status). | Low | Multi-select or tab-style status filter. Apply to both views. |
| TS-18 | Filter by priority | Filter tasks by LOW, MEDIUM, HIGH. Less critical than status/assignee but expected in any task management tool. | Low | Dropdown filter with priority options. |
| TS-19 | Search by task title | Text search across all task titles. Real-time filtering as user types. Standard pattern in every task list. | Low | Reuse search input pattern from KanbanFilterBar. Client-side filter on title string. |
| TS-20 | Sort table columns | Table view must support sorting by: Due Date (default), Priority, Status, Project, Created Date. Click column header to sort asc/desc. | Low | Standard table sort. Either client-side sort or query param sort. Client-side is simpler for small dataset (3 people, likely <200 tasks total). |
| TS-21 | Task row shows project context | In cross-project view, every task MUST show which project it belongs to. Without project context, a task title like "Design mockups" is ambiguous. Display as small badge or secondary text. | Low | Include `project: { select: { id, title } }` in task query. Render as linked badge. |
| TS-22 | Click task opens detail (inline or navigate) | Clicking a task in the cross-project list must give access to task details. Two options: (a) navigate to `/projects/[id]#task-[taskId]`, or (b) open a side sheet with task detail. Side sheet is better UX since user stays on tasks page. | Medium | Recommend Sheet/Dialog approach (matches InitiativeDetailSheet pattern). Show task title, description, status/priority controls, assignee, due date, subtasks, comments. Must pass projectId context for API calls. |

### 3. Member Workload Pages (/members and /members/[name])

| # | Feature | Why Expected | Complexity | Notes |
|---|---------|-------------|------------|-------|
| TS-23 | `/members` overview page | Landing page showing all 3 team members with summary stats. Card per member: avatar, name, counts of assigned items (KRs, initiatives, tasks, support tasks). Click card navigates to detail page. | Low | Simple page with 3 cards. Data: aggregate counts from each entity type per TeamMember. |
| TS-24 | `/members/[name]` detail page | Per-member profile page showing everything assigned to that person across all entity types. This is the "person view" -- "What is Khairul responsible for?" Centralizes data that is currently scattered across Initiatives, Tasks, KRs, Support Tasks pages. | High | Dynamic route. `name` param is lowercase team member name (khairul, azlan, izyani). Map to TeamMember enum. Fetch across 4+ entity types. |
| TS-25 | KRs section on member detail | Show KeyResults owned by this member. Display: KR ID, description, progress bar, status, target/actual. KeyResult.owner is a string field, so match by name. | Medium | Query KeyResult where owner matches member name (case-insensitive or exact match). Render as compact card list or table. Khairul owns 5/6 KRs, Azlan owns 1. |
| TS-26 | Initiatives section on member detail | Show Initiatives where this member is personInCharge. Display: sequence number, title, status badge, department, date range, KR link. | Medium | Query Initiative where personInCharge = TeamMember. Reuse initiative list/card patterns. |
| TS-27 | Tasks section on member detail | Show Tasks across all projects where assignee matches. Display: task title, project name, status, priority, due date. | Medium | Query Task where assignee = TeamMember, include project. Render as compact table or list. |
| TS-28 | Support Tasks section on member detail | Show SupportTasks owned by this member. Display: task ID, category, task description, frequency, priority, linked KRs. | Medium | Query SupportTask where owner matches member name. Azlan owns 14, Khairul owns 16. |
| TS-29 | Summary statistics header on member detail | Top-level stats: total assigned KRs, total initiatives (with status breakdown), total tasks (with completion %), total support tasks. Quick glance at workload volume. | Low | Aggregate counts from the fetched data. Render as stat cards in a row. Pattern: existing dashboard stat cards. |
| TS-30 | Member overview cards show at-a-glance stats | On /members overview, each card shows: N key results, N initiatives (X in progress), N tasks (Y% complete), N support tasks. Enough to quickly compare workload distribution. | Low | Same aggregation as TS-29 but displayed on overview cards. |

---

## Differentiators

Features that are not strictly required but make SAAP v2.1 feel polished and purposeful for a small team.

### Sidebar Enhancements

| # | Feature | Value Proposition | Complexity | Notes |
|---|---------|-------------------|------------|-------|
| D-01 | Sidebar collapse to icon-only mode (rail) | Maximizes workspace area. Especially valuable on smaller screens. Click a toggle button to shrink sidebar from 256px to 48px, showing only icons. Tooltip on hover reveals nav item name. | Medium | shadcn/ui Sidebar component supports `collapsible="icon"` mode natively. Would require migrating current custom sidebar to shadcn/ui Sidebar component. Worth considering but not required for v2.1. |
| D-02 | Keyboard shortcut to toggle sidebar | Power user feature. Cmd+B (macOS) or Ctrl+B to show/hide sidebar. Standard in VS Code, Notion, Linear. | Low | `useEffect` with `keydown` event listener. Toggle a boolean state. Small win for developer-oriented team. |
| D-03 | Active section badges with dynamic counts | Instead of static item counts, show dynamic data-driven badges: "SAAP (3 overdue)", "CRM (2 active projects)". Makes sidebar informational, not just navigational. | High | Requires fetching counts on sidebar mount. Could cause performance issues. Better deferred. |

### Cross-Project Tasks Enhancements

| # | Feature | Value Proposition | Complexity | Notes |
|---|---------|-------------------|------------|-------|
| D-04 | Group-by option in table view | Group tasks by: Project, Assignee, Status, Priority, or Due Date range. Asana's table view allows grouping by any field, creating collapsible sections. Useful for "show me all tasks grouped by project" vs flat list. | Medium | Client-side grouping. Render grouped sections with collapsible headers. Most impactful groupings: by Project, by Assignee. |
| D-05 | Kanban board drag-and-drop status change | Drag task cards between To Do / In Progress / Done columns to change status. Matches existing Initiative kanban DnD behavior. | Medium | Reuse dnd-kit setup from KanbanBoard. On drop, PATCH task status via `/api/projects/[projectId]/tasks/[taskId]`. Need projectId from task context. |
| D-06 | Kanban group-by toggle: by Status vs by Project | Default kanban groups by status (3 columns). Alternate: group by project (one column per project, cards sorted by status within). Useful for project-centric view. | Medium | Two kanban layouts sharing same data. Toggle in view controls. |
| D-07 | Bulk status update in table view | Select multiple tasks via checkboxes, bulk-change status to DONE. Common in Asana/Linear. Useful for end-of-week task cleanup. | Medium | Checkbox column, selection state, bulk action bar. API: batch PATCH endpoint or sequential calls. |
| D-08 | Due date quick filters | Predefined date filters: Overdue, Due Today, Due This Week, Due This Month, No Due Date. Matches KanbanFilterBar DateFilter pattern. | Low | Reuse DateFilter pattern from kanban-filter-bar.tsx. Apply client-side. |
| D-09 | Task creation from cross-project page | "Add Task" button that opens a dialog with project selector + task fields. Currently tasks can only be created from within a project detail page. | Medium | Dialog with project dropdown + existing task form fields. POST to `/api/projects/[selectedProjectId]/tasks`. |
| D-10 | Persist view preference (table vs kanban) | Remember last selected view in localStorage. Return to preferred view when navigating back to /tasks. Small but meaningful for daily use. | Low | localStorage key `tasks-view-mode`. Read on mount. |

### Member Workload Enhancements

| # | Feature | Value Proposition | Complexity | Notes |
|---|---------|-------------------|------------|-------|
| D-11 | Workload comparison view on /members overview | Side-by-side comparison showing relative workload per member. Visual bars or charts showing: initiatives per person, tasks per person, KRs per person. Instantly shows if workload is imbalanced. | Medium | Simple bar chart or stacked progress bars. Data already available from aggregation queries. For 3-person team, visual comparison is immediately useful. |
| D-12 | Status breakdown per section on member detail | Instead of just counts, show status breakdown: "Initiatives: 5 In Progress, 2 Completed, 1 At Risk". Uses existing status badge patterns. More informative than raw counts. | Low | Group fetched items by status, display as badge row or mini pie chart. Reuse existing STATUS_CONFIG color patterns. |
| D-13 | Overdue/at-risk highlighting on member detail | Items past due date or in AT_RISK status shown with red accent. Draws attention to items needing action. Common in every workload dashboard. | Low | Conditional styling based on dueDate < now or status === AT_RISK. CSS only. |
| D-14 | Accountable items section on member detail | Show items where the member is ACCOUNTABLE (not just personInCharge). Initiative has both `personInCharge` and `accountable` fields. A member can be accountable for initiatives they do not personally execute. | Low | Additional query for Initiative where accountable = TeamMember. Display separately from "assigned" section with different label ("Accountable For" vs "Assigned To"). |
| D-15 | Cross-entity timeline on member detail | Show all items (initiatives, tasks, KRs) for a member on a single timeline view. Gives temporal context: "What is Azlan doing this quarter?" | High | Requires normalizing different date fields (initiative start/endDate, task dueDate, KR deadline string). KR deadline is a loose string ("Q4 2026"), not a parseable date. Complexity is high for marginal value with 3 people. |
| D-16 | Quick navigation between member pages | Previous/Next member buttons on detail page. With only 3 members, this is a minor convenience. | Low | Static list of members. Button with next/previous logic. Simple. |

---

## Anti-Features

Features to deliberately NOT build. Common mistakes in this domain that would add complexity without proportional value for a 3-person team.

| # | Anti-Feature | Why Avoid | What to Do Instead |
|---|-------------|-----------|-------------------|
| AF-01 | Full shadcn/ui Sidebar component migration | Migrating the entire sidebar to shadcn/ui's opinionated Sidebar system (SidebarProvider, SidebarMenu, SidebarMenuSub, etc.) is a large refactor for marginal gain. The current sidebar is clean and functional. Adding collapsible groups only requires the existing Collapsible primitive. | Add Collapsible wrappers to existing sidebar JSX. Keep current component structure. Consider full migration only if icon-rail mode (D-01) becomes a priority. |
| AF-02 | Drag-and-drop task reordering in cross-project table | Cross-project task reordering has no meaningful semantics. Tasks from different projects have independent sort orders. DnD reorder makes sense within a project (sortOrder field exists) but not across projects. | Support sorting by column headers (due date, priority, etc.) in table view. DnD only in kanban view for status changes (D-05), not for reordering. |
| AF-03 | Real-time collaboration / live task updates | WebSocket or SSE for real-time task updates. Overkill for 3 people. The cost of maintaining WebSocket infrastructure exceeds the benefit of seeing a colleague's changes instantly. Page refresh or SWR revalidation is sufficient. | Use Next.js router.refresh() or SWR revalidateOnFocus for near-real-time consistency. |
| AF-04 | Custom task board columns / custom statuses | Letting users define custom status columns for the task kanban. The existing 3-status model (TODO, IN_PROGRESS, DONE) is sufficient for a 3-person team. Custom statuses add schema complexity and migration burden. | Keep fixed TaskStatus enum. If more granularity is needed later, add to the enum (e.g., REVIEW) rather than making it dynamic. |
| AF-05 | Capacity planning / hours-based workload | Tracking work hours per task, setting member capacity limits (e.g., 40 hours/week), and showing utilization percentages. This is enterprise PM tooling (Wrike, Resource Guru). Massive model changes for a team that does not track hours. | Show workload as item counts (number of initiatives, tasks, etc.) not hours. The TeamWorkload widget already uses this count-based approach. |
| AF-06 | AI-generated workload insights | "Khairul is at 120% capacity" or "Redistribute 3 tasks to Izyani" style recommendations. Requires effort estimation, capacity modeling, and ML. Way beyond scope for 3 people. | Simple visual comparison of item counts per member. Humans can see "Khairul has 16 tasks, Izyani has 3" and draw their own conclusions. |
| AF-07 | Per-member notification system | Email/push notifications when tasks are assigned to a member. Requires notification infrastructure. 3 people can communicate directly. | No notifications. Members check their /members/[name] page or use cross-project task filters. |
| AF-08 | Multi-select sidebar items for batch operations | Selecting multiple nav items to create a combined view. Over-engineered navigation pattern that adds confusion. | Each nav item is a single destination. Combined views are purpose-built pages (e.g., /tasks for cross-project tasks). |
| AF-09 | Nested collapsible sub-groups within sidebar sections | Two levels of collapsing: SAAP > Views (Timeline, Kanban, Calendar) > Data (Initiatives, Support Tasks). Over-nesting in a 16-item sidebar is worse than a flat list within a collapsible group. | One level of collapsible groups is sufficient. Keep nav items flat within each group. |
| AF-10 | Personal workspace / "My Tasks" vs "All Tasks" | Separate "My Tasks" view per authenticated user vs "All Tasks" admin view. With 3 people, the distinction adds UI complexity (two pages doing similar things) without benefit. | Single /tasks page with assignee filter. "My Tasks" is just clicking your name in the filter. No separate route needed. |

---

## Feature Dependencies

```
Collapsible Sidebar (independent)
  TS-01 SAAP collapsible group
  TS-02 CRM collapsible group
  TS-03 Admin collapsible group
  TS-04 Chevron animation (requires TS-01/02/03)
  TS-05 Persist state (requires TS-01/02/03)
  TS-06 Default open (parallel with TS-01/02/03)
  TS-07 Auto-expand active section (requires TS-05)
  TS-08 Mobile sidebar parity (requires TS-01/02/03)
  TS-09 Count badges (requires TS-01/02/03)
  TS-10 New nav items Tasks + Members (requires TS-11, TS-23)

Cross-Project Tasks (depends on existing Task model)
  TS-11 /tasks route + API -> foundation for everything below
  TS-12 Table view (requires TS-11)
  TS-13 Kanban view (requires TS-11)
  TS-14 View toggle (requires TS-12 + TS-13)
  TS-15-19 Filters (require TS-11, apply to both views)
  TS-20 Table sort (requires TS-12)
  TS-21 Project context (requires TS-11)
  TS-22 Task detail sheet (requires TS-11)

Member Workload (depends on existing models + v2.0 KR/SupportTask)
  TS-23 /members overview -> foundation
  TS-24 /members/[name] detail -> foundation for sections below
  TS-25 KRs section (requires TS-24 + v2.0 KeyResult model)
  TS-26 Initiatives section (requires TS-24)
  TS-27 Tasks section (requires TS-24)
  TS-28 Support Tasks section (requires TS-24 + v2.0 SupportTask model)
  TS-29 Summary stats (requires TS-25/26/27/28 data)
  TS-30 Overview cards (requires TS-23 + aggregate queries)
```

---

## MVP Recommendation

For v2.1 MVP, prioritize in this order:

### Phase 1: Sidebar (1-2 days)
Build first because it is the lowest-risk change with immediate UX improvement, and it unblocks the nav items for Tasks and Members pages.

1. **TS-01/02/03** - Collapsible SAAP, CRM, Admin groups
2. **TS-04** - Chevron animation
3. **TS-05/06** - Persist state + defaults
4. **TS-07** - Auto-expand active section
5. **TS-08** - Mobile sidebar parity
6. **TS-10** - Add Tasks + Members nav items (placeholder pages first)

### Phase 2: Cross-Project Tasks (3-4 days)
Build second because it is a standalone page with clear scope and reuses existing patterns.

1. **TS-11** - /tasks route + cross-project API
2. **TS-12** - Table view (default)
3. **TS-15/16/17/18/19** - All filters
4. **TS-20** - Column sorting
5. **TS-21** - Project context badges
6. **TS-13** - Kanban view
7. **TS-14** - View toggle
8. **TS-22** - Task detail sheet

### Phase 3: Member Workload (3-4 days)
Build last because it depends on all entity types being stable (especially v2.0 KRs and SupportTasks).

1. **TS-23** - /members overview with cards
2. **TS-30** - Overview card stats
3. **TS-24** - /members/[name] detail page
4. **TS-29** - Summary stats header
5. **TS-25** - KRs section
6. **TS-26** - Initiatives section
7. **TS-27** - Tasks section
8. **TS-28** - Support Tasks section

### Differentiators to include in MVP:
- **D-05** - Kanban DnD status change (natural extension of TS-13, reuses existing dnd-kit setup)
- **D-08** - Due date quick filters (reuses existing DateFilter pattern)
- **D-10** - Persist view preference (trivial localStorage addition)
- **D-12** - Status breakdown on member detail (display-only enhancement, low effort)
- **D-13** - Overdue highlighting (CSS-only, no logic change)
- **D-14** - Accountable items section (one additional query, high value)

### Defer to post-MVP:
- **D-01** - Icon-rail sidebar collapse (requires significant sidebar refactor)
- **D-03** - Dynamic sidebar badges (performance concern)
- **D-04** - Group-by option (nice but not essential first release)
- **D-06** - Kanban group-by toggle (second view mode adds complexity)
- **D-07** - Bulk status update (convenience feature, not core)
- **D-09** - Task creation from cross-project page (can create from project page for now)
- **D-11** - Workload comparison chart (overview page with counts is sufficient initially)
- **D-15** - Cross-entity timeline (high complexity, low marginal value for 3 people)

---

## Competitive Reference Points

How other tools implement these features (informing expected behavior):

### Sidebar Navigation
| Tool | Pattern | Relevance to SAAP |
|------|---------|-------------------|
| Notion | Collapsible page groups, drag to reorder, icon-only rail | Collapsible groups: YES. Drag reorder: NO (nav items are fixed). Icon rail: MAYBE later. |
| Linear | Fixed top sections (Inbox, My Issues), collapsible Teams/Projects | Fixed top items + collapsible groups: YES, matches our SAAP (fixed) + CRM (collapsible) pattern. |
| VS Code | Collapsible explorer sections, persist state, auto-expand | Persist + auto-expand: YES. Our sidebar should match these behaviors. |
| Slack | Collapsible channels/DMs sections, section counters | Collapsible sections with optional counters: YES. |

### Cross-Project Tasks
| Tool | Pattern | Relevance to SAAP |
|------|---------|-------------------|
| Asana "My Tasks" | List + Board toggle, group by section, drag between sections | List + Board toggle: YES. Group by section: DIFFERENTIATOR. |
| Linear "My Issues" | Table with inline status change, sort by priority/project/date | Table with sort: YES. Inline status: DIFFERENTIATOR. |
| ClickUp "Everything" | Multi-view (list, board, calendar, table, Gantt), filter by space/folder | Multi-view: ONLY table + kanban for MVP. Full multi-view is overkill. |
| Vikunja | List, Kanban, Table, Gantt views per project with filter persistence | View toggle with filter persistence: YES. |

### Member Workload
| Tool | Pattern | Relevance to SAAP |
|------|---------|-------------------|
| Asana "Workload" | Per-member capacity bars, drag to redistribute, hours-based | Capacity bars: YES (count-based). Drag redistribute: NO. Hours-based: NO. |
| Monday.com "Workload" | Effort column, workload widget, per-person breakdown | Item count widget: YES. Effort tracking: NO. |
| ClickUp "Workload" | Time estimate vs capacity, overallocation warnings | Count-based comparison: YES. Time/capacity: NO. |
| SmartTask "Team Dashboard" | Per-member card with task counts, status breakdown, KPI tracking | This is exactly what /members should be. Card per member, status breakdown, KPI connection. |

---

## API Requirements Summary

New API endpoints needed for v2.1:

| Endpoint | Method | Purpose | Notes |
|----------|--------|---------|-------|
| `/api/tasks` | GET | Cross-project tasks with filters | Query params: assignee, projectId, status, priority, search, sortBy, sortOrder. Include project relation. |
| `/api/members` | GET | Member overview with aggregated counts | Returns array of 3 members with counts from each entity type. |
| `/api/members/[name]` | GET | Member detail with all assigned items | Returns KRs, initiatives, tasks, supportTasks for the named member. Could be single query or multiple. |

Existing endpoints sufficient (no changes needed):
- Task CRUD: `/api/projects/[id]/tasks/[taskId]` -- cross-project page reads via new `/api/tasks`, writes via existing project-scoped endpoints
- Initiative, KeyResult, SupportTask reads -- member detail page queries these directly

---

## Sources

- [shadcn/ui Sidebar Documentation](https://ui.shadcn.com/docs/components/sidebar)
- [shadcn/ui Collapsible Documentation](https://ui.shadcn.com/docs/components/collapsible)
- [shadcn/ui Sidebar Blocks Gallery](https://ui.shadcn.com/blocks/sidebar)
- [Best UX Practices for Sidebar Menu Design](https://uiuxdesigntrends.com/best-ux-practices-for-sidebar-menu-in-2025/)
- [Best UX Practices for Designing a Sidebar (UX Planet)](https://uxplanet.org/best-ux-practices-for-designing-a-sidebar-9174ee0ecaa2)
- [Asana My Tasks Views Documentation](https://help.asana.com/s/article/views-in-my-tasks?language=en_US)
- [Asana: Customize My Tasks](https://asana.com/inside-asana/customize-my-tasks)
- [Mastering Kanban for Multiple Projects](https://blog.virtosoftware.com/kanban-multiple-projects/)
- [Team Dashboard Guide (SmartTask)](https://www.smarttask.io/blog/team-dashboard)
- [The Workload Widget (Monday.com)](https://support.monday.com/hc/en-us/articles/360010699760-The-Workload-Widget)
- [Best Workload Management Tools 2026 (Epicflow)](https://www.epicflow.com/blog/best-workload-management-tools-for-team-efficiency/)
- [Project Dashboard Features (ReadyLogic)](https://readylogic.co/creating-a-project-dashboard-11-must-have-features-with-examples/)
