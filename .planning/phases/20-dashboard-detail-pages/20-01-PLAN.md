---
phase: 20-dashboard-detail-pages
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/app/(dashboard)/page.tsx
  - src/components/dashboard/kpi-cards.tsx
  - src/components/dashboard/crm-kpi-cards.tsx
autonomous: true

must_haves:
  truths:
    - "User on phone sees KPI cards stacked in 1 column"
    - "User on tablet sees KPI cards in 2 columns"
    - "User on desktop sees KPI cards in 4 columns (main) / 3 columns (CRM)"
    - "KPI card text and icons are readable on mobile"
  artifacts:
    - path: "src/components/dashboard/kpi-cards.tsx"
      provides: "Responsive KPI cards grid with 1/2/4 column layout"
      contains: "grid-cols-1.*sm:grid-cols-2.*lg:grid-cols-4"
    - path: "src/components/dashboard/crm-kpi-cards.tsx"
      provides: "Responsive CRM KPI cards grid with 1/2/3 column layout"
      contains: "grid-cols-1.*sm:grid-cols-2.*lg:grid-cols-3"
    - path: "src/app/(dashboard)/page.tsx"
      provides: "Dashboard page with responsive padding"
      contains: "p-4 md:p-6"
  key_links:
    - from: "src/app/(dashboard)/page.tsx"
      to: "KPICards, CRMKPICards"
      via: "component import and render"
      pattern: "<KPICards|<CRMKPICards"
---

<objective>
Make dashboard KPI cards and page layout fully responsive for mobile, tablet, and desktop.

Purpose: DSH-01 and DSH-02 require KPI cards to stack properly on different screen sizes. The page padding also needs mobile-friendly adjustments.

Output: Dashboard page renders KPI cards in 1 column on mobile, 2 columns on tablet, and 4/3 columns on desktop.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/20-dashboard-detail-pages/20-RESEARCH.md
@src/components/dashboard/kpi-cards.tsx
@src/components/dashboard/crm-kpi-cards.tsx
@src/app/(dashboard)/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Dashboard page responsive padding</name>
  <files>src/app/(dashboard)/page.tsx</files>
  <action>
    Update the dashboard page layout for mobile-friendly padding:

    1. Change `<div className="p-6 space-y-6">` to `<div className="p-4 md:p-6 space-y-6">`
       - Smaller padding on mobile (p-4 = 16px)
       - Normal padding on tablet/desktop (md:p-6 = 24px)

    This ensures content doesn't feel cramped on mobile while maintaining the existing desktop experience.
  </action>
  <verify>Inspect the dashboard page markup and confirm the padding class is `p-4 md:p-6 space-y-6`</verify>
  <done>Dashboard page has responsive padding that's smaller on mobile</done>
</task>

<task type="auto">
  <name>Task 2: KPI Cards responsive grid and sizing</name>
  <files>src/components/dashboard/kpi-cards.tsx</files>
  <action>
    Update KPICards component for better mobile responsiveness:

    1. The grid is already `grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4` - this is correct for DSH-01 and DSH-02

    2. Update CardContent padding to be responsive:
       - Change `className="p-6"` to `className="p-4 md:p-6"`

    3. Update the flex container gap to be responsive:
       - Change `className="flex items-center gap-4"` to `className="flex items-center gap-3 md:gap-4"`

    4. Update icon container padding to be responsive:
       - Change `className={\`rounded-lg p-3 ${kpi.bgColor}\`}` to `className={\`rounded-lg p-2.5 md:p-3 ${kpi.bgColor}\`}`

    5. Update icon size to be responsive:
       - Change `className={\`h-5 w-5 ${kpi.color}\`}` to `className={\`h-4 w-4 md:h-5 md:w-5 ${kpi.color}\`}`

    6. Add min-w-0 to text container to prevent text overflow:
       - Change the `<div>` containing title/value/subtitle to `<div className="min-w-0">`

    7. Update text sizes to be responsive:
       - Title: Change `className="text-sm text-gray-500"` to `className="text-xs md:text-sm text-gray-500 truncate"`
       - Value: Change `className="text-2xl font-semibold text-gray-900"` to `className="text-xl md:text-2xl font-semibold text-gray-900"`
       - Subtitle: Add `truncate` to the subtitle class

    8. For the Revenue Progress Card, apply similar responsive treatment:
       - Update `className="p-6"` to `className="p-4 md:p-6"`
       - Update `className="flex items-center gap-3"` remains as-is (already small enough)
       - Update icon padding and size similar to above
  </action>
  <verify>
    Check that:
    - KPI cards grid has responsive classes
    - CardContent has `p-4 md:p-6`
    - Icon sizes use `h-4 w-4 md:h-5 md:w-5`
    - Text container has `min-w-0`
    - Title has `truncate`
  </verify>
  <done>KPI cards display correctly on mobile with appropriate sizing and truncation</done>
</task>

<task type="auto">
  <name>Task 3: CRM KPI Cards responsive sizing</name>
  <files>src/components/dashboard/crm-kpi-cards.tsx</files>
  <action>
    Update CRMKPICards component for mobile responsiveness (same patterns as KPICards):

    1. The grid is already `grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3` - this is correct

    2. Update CardContent padding:
       - Change `className="p-6"` to `className="p-4 md:p-6"`

    3. Update flex container gap:
       - Change `className="flex items-center gap-4"` to `className="flex items-center gap-3 md:gap-4"`

    4. Update icon container padding:
       - Change `className={cn('rounded-lg p-3', kpi.bgColor)}` to `className={cn('rounded-lg p-2.5 md:p-3', kpi.bgColor)}`

    5. Update icon size:
       - Change `className={cn('h-5 w-5', kpi.color)}` to `className={cn('h-4 w-4 md:h-5 md:w-5', kpi.color)}`

    6. Add min-w-0 to text container:
       - Change `<div>` to `<div className="min-w-0">`

    7. Update text sizes:
       - Title: Add `truncate` class
       - Value: Change `text-2xl` to `text-xl md:text-2xl`
       - Subtitle: Keep as-is (already small)
  </action>
  <verify>
    Check that:
    - CRM KPI cards grid maintains responsive classes
    - CardContent has `p-4 md:p-6`
    - Icon sizes are responsive
    - Text container has `min-w-0`
  </verify>
  <done>CRM KPI cards display correctly on mobile with proper sizing</done>
</task>

</tasks>

<verification>
Run the development server and test on different viewport sizes:

```bash
npm run dev
```

Test at these breakpoints:
- Mobile (375px): KPI cards in 1 column, smaller padding/icons
- Tablet (768px): KPI cards in 2 columns
- Desktop (1024px+): Main KPIs in 4 columns, CRM KPIs in 3 columns

Visual checks:
1. No text overflow or truncation issues
2. Cards have proper spacing
3. Icons are visible and appropriately sized
</verification>

<success_criteria>
- DSH-01: KPI cards stack in 1 column on mobile (< 640px)
- DSH-02: KPI cards show 2 columns on tablet (640px - 1023px)
- Dashboard page has comfortable padding on all screen sizes
- Text and icons are legible on mobile devices
</success_criteria>

<output>
After completion, create `.planning/phases/20-dashboard-detail-pages/20-01-SUMMARY.md`
</output>
