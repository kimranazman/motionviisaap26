# Plan 74-01: Members Quick Navigation Links

## Frontmatter

```yaml
phase: 74
plan: 01
wave: 1
depends_on: []
files_modified:
  - src/lib/nav-config.ts
  - src/components/layout/sidebar.tsx
  - src/components/layout/mobile-sidebar.tsx
autonomous: true
estimated_time: 15 minutes
```

## Objective

Add expandable children to the Members nav item so users can quickly navigate to individual team member pages (Khairul, Azlan, Izyani) while keeping the parent /members link clickable.

## Context

The codebase already has a working nested navigation pattern in NavGroupComponent (used by Companies in CRM group). The topLevelItems section of both sidebars currently renders simple links without children support. We need to add the nested pattern to top-level items.

## Tasks

<task id="1">
<title>Add children to Members in nav-config.ts</title>
<type>code</type>
<file>src/lib/nav-config.ts</file>
<action>
1. Import `User` icon from lucide-react
2. Update topLevelItems to add children array to Members:
   - Khairul -> /members/khairul
   - Azlan -> /members/azlan
   - Izyani -> /members/izyani
3. Update getAllNavHrefs() to include topLevelItems children
</action>
<expected_result>
- topLevelItems has Members with children array
- getAllNavHrefs returns all member hrefs
</expected_result>
</task>

<task id="2">
<title>Add nested rendering to desktop sidebar</title>
<type>code</type>
<file>src/components/layout/sidebar.tsx</file>
<action>
1. Add useState for tracking expanded top-level items with children
2. Add useEffect to auto-expand when child route is active
3. Replace simple Link rendering in top-level section with nested pattern:
   - Parent row with Link for navigation + chevron button for toggle
   - Children rendered when expanded
   - Match styling from nav-group.tsx
</action>
<expected_result>
- Members shows chevron when it has children
- Clicking Members navigates to /members
- Clicking chevron expands/collapses children
- Children navigate to /members/[name]
</expected_result>
</task>

<task id="3">
<title>Add nested rendering to mobile sidebar</title>
<type>code</type>
<file>src/components/layout/mobile-sidebar.tsx</file>
<action>
1. Add useState for tracking expanded top-level items with children
2. Add useEffect to auto-expand when child route is active
3. Replace simple Link rendering in top-level section with nested pattern (same as task 2)
4. Ensure onLinkClick closes sheet when navigating
</action>
<expected_result>
- Mobile sidebar shows same expandable behavior as desktop
- Clicking child link closes the mobile sheet
</expected_result>
</task>

## Verification Criteria

### Automated
```bash
# TypeScript compiles without errors
cd /Users/khairul/Documents/MyDev/Work/Motionvii/saap2026v2 && npx tsc --noEmit

# Dev server starts
cd /Users/khairul/Documents/MyDev/Work/Motionvii/saap2026v2 && npm run build
```

### Manual
1. Desktop sidebar: Members shows expand chevron
2. Desktop sidebar: Click chevron -> reveals Khairul, Azlan, Izyani
3. Desktop sidebar: Click "Members" text -> navigates to /members overview
4. Desktop sidebar: Click "Khairul" -> navigates to /members/khairul
5. Mobile sidebar: Same expandable behavior
6. Auto-expand: Navigate to /members/azlan -> Members auto-expands showing children
7. Styling: Child items indented, smaller icons, matches Companies/Departments pattern

## Must Haves

- [ ] Members nav item has children array with 3 team members
- [ ] Parent /members link remains clickable for overview page
- [ ] Expand chevron toggles child visibility
- [ ] Each child links to /members/[name] route
- [ ] Desktop sidebar shows expandable Members
- [ ] Mobile sidebar shows same expandable behavior
- [ ] Active child route auto-expands parent
- [ ] Styling matches existing nested nav pattern (Companies/Departments/Contacts)

## Rollback

If issues arise:
1. Remove children array from topLevelItems in nav-config.ts
2. Restore simple Link rendering in sidebar.tsx
3. Restore simple Link rendering in mobile-sidebar.tsx
