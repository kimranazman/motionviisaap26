---
phase: 17-kanban-responsive
plan: 02
type: execute
wave: 2
depends_on: ["17-01"]
files_modified:
  - src/components/kanban/kanban-column.tsx
  - src/components/kanban/kanban-card.tsx
  - src/components/pipeline/pipeline-column.tsx
  - src/components/pipeline/pipeline-card.tsx
  - src/components/potential-projects/potential-column.tsx
  - src/components/potential-projects/potential-card.tsx
autonomous: true

must_haves:
  truths:
    - "User on mobile sees partial edges of adjacent columns (75% viewport width)"
    - "User on mobile can tap cards without accidentally triggering drag"
    - "Cards have adequate touch target size (min 44px)"
  artifacts:
    - path: "src/components/kanban/kanban-column.tsx"
      provides: "Responsive column width"
      contains: "w-[75vw]"
    - path: "src/components/pipeline/pipeline-column.tsx"
      provides: "Responsive column width"
      contains: "w-[75vw]"
    - path: "src/components/potential-projects/potential-column.tsx"
      provides: "Responsive column width"
      contains: "w-[75vw]"
  key_links:
    - from: "Column components"
      to: "Board scroll containers"
      via: "snap-start alignment"
      pattern: "snap-start"
---

<objective>
Make Kanban columns responsive (75vw on mobile) and ensure cards are touch-friendly.

Purpose: Show partial edges of adjacent columns on mobile so users know more columns exist. Ensure cards have adequate tap targets and touch-none only on drag area.
Output: Columns show 75% viewport width on mobile with visible adjacent edges; cards have 44px+ touch targets.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/17-kanban-responsive/17-RESEARCH.md
@.planning/phases/17-kanban-responsive/17-01-SUMMARY.md

@src/components/kanban/kanban-column.tsx
@src/components/kanban/kanban-card.tsx
@src/components/pipeline/pipeline-column.tsx
@src/components/pipeline/pipeline-card.tsx
@src/components/potential-projects/potential-column.tsx
@src/components/potential-projects/potential-card.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Make all column components responsive with snap alignment</name>
  <files>
    src/components/kanban/kanban-column.tsx
    src/components/pipeline/pipeline-column.tsx
    src/components/potential-projects/potential-column.tsx
  </files>
  <action>
Update the column container className in all 3 column components.

For kanban-column.tsx, pipeline-column.tsx, and potential-column.tsx:

Replace the current column div className (which has `w-80 shrink-0`):
```typescript
<div
  ref={setNodeRef}
  className={cn(
    // Mobile: 75% viewport width to show adjacent column edges
    "w-[75vw] min-w-[280px] max-w-[320px]",
    // Desktop: fixed width
    "md:w-80 md:min-w-0 md:max-w-none",
    // Shared styles
    "shrink-0 rounded-2xl",
    "bg-gray-50/50 backdrop-blur-sm",
    // Snap alignment for scroll container
    "snap-start",
    isOver && "ring-2 ring-blue-400/50"
  )}
>
```

Import cn from @/lib/utils if not already imported.

Key changes:
- Mobile: w-[75vw] with min-w-[280px] and max-w-[320px] bounds
- Desktop: md:w-80 restores fixed 320px width
- Added snap-start for scroll snap alignment
  </action>
  <verify>
- `npm run build` passes
- grep for "w-[75vw]" in all 3 column files shows the responsive width
- grep for "snap-start" in all 3 column files shows snap alignment
  </verify>
  <done>
All 3 column components use 75vw width on mobile with snap-start alignment, restoring w-80 on desktop.
  </done>
</task>

<task type="auto">
  <name>Task 2: Ensure cards have adequate touch targets</name>
  <files>
    src/components/kanban/kanban-card.tsx
    src/components/pipeline/pipeline-card.tsx
    src/components/potential-projects/potential-card.tsx
  </files>
  <action>
Verify and update card components for touch-friendly sizing.

For all 3 card components, ensure:

1. Card padding is at least p-4 (16px) - already the case, but verify
2. The touch-none class is only on the draggable container (already correct)
3. Clickable title area has adequate size

For KanbanCard (kanban-card.tsx):
- The title click area is currently just text. Wrap it for larger touch target:
```typescript
{/* Title - Primary focus with larger touch target */}
<div
  className="text-sm font-medium text-gray-900 hover:text-blue-600 line-clamp-2 cursor-pointer mb-3 min-h-[44px] flex items-start"
  onClick={handleViewDetails}
  onPointerDown={(e) => e.stopPropagation()}
>
  {item.title}
</div>
```

For PipelineCard and PotentialCard:
- The title is already in a div with mb-3. Ensure min-height for touch:
```typescript
{/* Title - Primary focus */}
<div className="text-sm font-medium text-gray-900 line-clamp-2 mb-3 min-h-[44px] flex items-start">
  {deal.title} {/* or project.title */}
</div>
```

Note: The min-h-[44px] ensures WCAG 2.5.8 touch target compliance.
  </action>
  <verify>
- `npm run build` passes
- grep for "min-h-\[44px\]" in all 3 card files shows touch target sizing
  </verify>
  <done>
All card components have min-h-[44px] on title area for touch accessibility.
  </done>
</task>

</tasks>

<verification>
1. Build passes: `npm run build` completes without errors
2. Column responsive classes:
   - `grep "w-\[75vw\]" src/components/kanban/kanban-column.tsx src/components/pipeline/pipeline-column.tsx src/components/potential-projects/potential-column.tsx`
3. Snap alignment:
   - `grep "snap-start" src/components/kanban/kanban-column.tsx src/components/pipeline/pipeline-column.tsx src/components/potential-projects/potential-column.tsx`
4. Touch targets:
   - `grep "min-h-\[44px\]" src/components/kanban/kanban-card.tsx src/components/pipeline/pipeline-card.tsx src/components/potential-projects/potential-card.tsx`
</verification>

<success_criteria>
- All columns show 75% viewport width on mobile
- Partial edges of adjacent columns visible when scrolling
- Desktop layout unchanged (w-80 at md breakpoint)
- Card titles have 44px minimum touch target height
- Build completes without errors
</success_criteria>

<output>
After completion, create `.planning/phases/17-kanban-responsive/17-02-SUMMARY.md`
</output>
