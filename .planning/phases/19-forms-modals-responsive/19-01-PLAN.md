---
phase: 19-forms-modals-responsive
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/ui/dialog.tsx
  - src/components/ui/sheet.tsx
  - src/components/ui/input.tsx
  - src/components/ui/select.tsx
  - src/components/ui/textarea.tsx
  - src/components/ui/calendar.tsx
autonomous: true
user_setup: []

must_haves:
  truths:
    - "Modals slide from bottom on mobile and fill nearly full screen"
    - "Modal close button is tappable on mobile (44px touch target)"
    - "Detail sheets fill full width on mobile"
    - "Input fields have 44px touch target on mobile"
    - "Select triggers have 44px touch target on mobile"
    - "Calendar day cells have 44px touch target on mobile"
  artifacts:
    - path: "src/components/ui/dialog.tsx"
      provides: "Responsive dialog with full-screen mobile layout"
      contains: "inset-x-0 bottom-0"
    - path: "src/components/ui/sheet.tsx"
      provides: "Responsive sheet with full-width mobile layout"
      contains: "w-full"
    - path: "src/components/ui/input.tsx"
      provides: "Touch-friendly input with 44px height on mobile"
      contains: "h-11"
    - path: "src/components/ui/select.tsx"
      provides: "Touch-friendly select trigger with 44px height on mobile"
      contains: "h-11"
    - path: "src/components/ui/calendar.tsx"
      provides: "Touch-friendly calendar with 44px day cells on mobile"
      contains: "[--cell-size:2.75rem]"
  key_links:
    - from: "All form components"
      to: "src/components/ui/input.tsx"
      via: "import { Input }"
      pattern: "Input"
    - from: "All form components"
      to: "src/components/ui/select.tsx"
      via: "import { SelectTrigger }"
      pattern: "SelectTrigger"
---

<objective>
Make base UI components (Dialog, Sheet, Input, Select, Textarea, Calendar) responsive and touch-friendly for mobile devices.

Purpose: These are the foundational UI components used by all forms and modals. Making them responsive at the base level ensures all downstream components inherit touch-friendly behavior without individual updates.

Output: Updated UI primitives with mobile-first responsive design - full-screen modals, full-width sheets, and 44px touch targets on all interactive elements.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/19-forms-modals-responsive/19-RESEARCH.md
@src/components/ui/dialog.tsx
@src/components/ui/sheet.tsx
@src/components/ui/input.tsx
@src/components/ui/select.tsx
@src/components/ui/textarea.tsx
@src/components/ui/calendar.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Responsive Dialog with Full-Screen Mobile</name>
  <files>src/components/ui/dialog.tsx</files>
  <action>
Update DialogContent to slide from bottom on mobile and be nearly full-screen:

1. Replace current fixed centered positioning with responsive layout:
   - Mobile (default): `fixed inset-x-0 bottom-0 h-[calc(100vh-2rem)] rounded-t-2xl`
   - Desktop (md:): `md:inset-auto md:left-[50%] md:top-[50%] md:translate-x-[-50%] md:translate-y-[-50%] md:h-auto md:max-w-lg md:rounded-lg`

2. Update animations for mobile slide-from-bottom:
   - Mobile: `data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom`
   - Desktop (md:): Keep existing zoom animations with md: prefix

3. Update DialogClose button to be touch-friendly:
   - Change from no size classes to `h-10 w-10 flex items-center justify-center` (40px touch target)
   - Desktop: `md:h-6 md:w-6`
   - Keep icon size at `h-4 w-4`

4. Add `overflow-y-auto` to DialogContent for scrollable content on mobile

Keep all existing functionality - just add responsive behavior.
  </action>
  <verify>
Run `npm run build` - should compile without errors. Visually inspect a dialog modal in browser dev tools mobile view.
  </verify>
  <done>
DialogContent slides from bottom on mobile (<768px) with nearly full-screen height. Close button has 40px touch target on mobile. Desktop shows centered modal with zoom animation.
  </done>
</task>

<task type="auto">
  <name>Task 2: Responsive Sheet with Full-Width Mobile</name>
  <files>src/components/ui/sheet.tsx</files>
  <action>
Update sheetVariants for the `right` side to be full-width on mobile:

1. Update the `right` variant in sheetVariants:
   - Current: `"inset-y-0 right-0 h-full w-3/4 border-l ... sm:max-w-sm"`
   - New: `"inset-y-0 right-0 h-full border-l w-full md:w-3/4 md:max-w-lg ..."`
   - Mobile gets full width, tablet+ gets 75% width with max-w-lg

2. Update SheetClose button to be touch-friendly (same pattern as Dialog):
   - Add `h-10 w-10 flex items-center justify-center` (40px touch target)
   - Desktop: `md:h-6 md:w-6`
   - Keep icon size at `h-4 w-4`

Keep all existing functionality and other side variants unchanged.
  </action>
  <verify>
Run `npm run build` - should compile without errors. Check that SheetContent with side="right" renders full-width on mobile.
  </verify>
  <done>
SheetContent with side="right" is full-width on mobile, 75% width (max 32rem) on tablet+. Close button has 40px touch target on mobile.
  </done>
</task>

<task type="auto">
  <name>Task 3: Touch-Friendly Form Inputs</name>
  <files>src/components/ui/input.tsx, src/components/ui/select.tsx, src/components/ui/textarea.tsx, src/components/ui/calendar.tsx</files>
  <action>
Update all form input components for 44px touch targets on mobile:

**input.tsx:**
1. Change height from `h-9` to `h-11 md:h-9` (44px on mobile, 36px on desktop)
2. Ensure `text-base md:text-sm` is present (prevents iOS zoom, already has this)

**select.tsx - SelectTrigger:**
1. Change height from `h-9` to `h-11 md:h-9` (44px on mobile, 36px on desktop)
2. Add `text-base md:text-sm` after `text-sm` to prevent iOS zoom

**select.tsx - SelectItem:**
1. Change padding from `py-1.5` to `py-2.5 md:py-1.5` (larger touch target for options)

**textarea.tsx:**
1. Ensure `text-base md:text-sm` is present (already has this)
2. No height change needed - min-h-[60px] is already adequate

**calendar.tsx:**
1. Update the className to have responsive cell size:
   - Current: `[--cell-size:2rem]`
   - New: `[--cell-size:2.75rem] md:[--cell-size:2rem]` (44px on mobile, 32px on desktop)
  </action>
  <verify>
Run `npm run build` - should compile without errors. Check input heights visually - should be taller on mobile viewport.
  </verify>
  <done>
All form inputs (Input, SelectTrigger, SelectItem, Calendar days) have minimum 44px touch targets on mobile. Desktop maintains original compact sizing.
  </done>
</task>

</tasks>

<verification>
After all tasks complete:
1. `npm run build` passes without errors
2. Open app in Chrome DevTools mobile view (iPhone 12 Pro, 390px)
3. Open any modal - should slide from bottom and be nearly full-screen
4. Open any detail sheet - should be full width
5. Form inputs should be visibly taller than desktop version
6. Calendar picker should have larger day cells
</verification>

<success_criteria>
- FRM-01 partially addressed: Dialog component now supports full-screen mobile
- FRM-03 addressed: All inputs have 44px touch targets
- FRM-04 addressed: Calendar has touch-friendly 44px cells
- FRM-05 addressed: Select has touch-friendly trigger and options
- FRM-06 addressed: Sheet component now supports full-width mobile
- All changes are at the primitive level, automatically applying to all consumers
</success_criteria>

<output>
After completion, create `.planning/phases/19-forms-modals-responsive/19-01-SUMMARY.md`
</output>
