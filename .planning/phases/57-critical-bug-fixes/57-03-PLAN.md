# Plan 57-03: Fix Sidebar Scroll

## Frontmatter
- **Phase**: 57 - Critical Bug Fixes
- **Wave**: 1
- **Depends on**: Nothing
- **Files modified**:
  - `src/components/layout/sidebar.tsx` (MODIFY)
- **Autonomous**: yes
- **Requirement**: BUG-03

## Goal
Desktop sidebar navigation scrolls when menu items exceed the viewport height, especially on smaller screens.

## Context
- Desktop sidebar has `md:fixed md:inset-y-0` making it full viewport height
- The `<nav>` element has `flex flex-col gap-1 p-4` but NO overflow/scroll handling
- When all nav groups are expanded (SAAP: 8 items, CRM: 6 items, Admin: 1 item, plus top-level items and settings), items overflow the viewport on screens ~768-900px tall
- Mobile sidebar already handles this correctly with `overflow-y-auto max-h-[calc(100vh-80px)]`

## Tasks

<task id="1">
**Add scroll to desktop sidebar**

In `src/components/layout/sidebar.tsx`:

1. Make the `<aside>` element a flex column layout:
   - Add `flex flex-col` to the aside classes
   - Change from:
     ```
     "hidden md:fixed md:inset-y-0 md:left-0 md:z-50 md:block md:w-64 bg-white border-r border-gray-200"
     ```
   - To:
     ```
     "hidden md:fixed md:inset-y-0 md:left-0 md:z-50 md:flex md:flex-col md:w-64 bg-white border-r border-gray-200"
     ```
   - Note: change `md:block` to `md:flex md:flex-col`

2. Make the logo header non-shrinkable:
   - Add `shrink-0` to the logo div classes (the one with `flex items-center gap-2 px-6 py-5 border-b`)

3. Make the `<nav>` element scrollable:
   - Add `flex-1 overflow-y-auto` to the nav classes
   - Change from: `"flex flex-col gap-1 p-4"`
   - To: `"flex-1 overflow-y-auto flex flex-col gap-1 p-4"`
</task>

## Verification
1. Resize browser window to ~768px height with all nav groups expanded — sidebar scrolls
2. At normal height (~900px+) — sidebar shows all items without scrollbar
3. Scroll to bottom of sidebar — Settings item is reachable
4. Logo remains fixed at top while nav scrolls
5. No visual changes when sidebar fits in viewport

## must_haves
- [ ] Sidebar scrolls when nav items exceed viewport height
- [ ] Logo stays fixed at top (doesn't scroll away)
- [ ] Settings link at bottom is always reachable via scroll
- [ ] No visual regression at normal viewport heights
