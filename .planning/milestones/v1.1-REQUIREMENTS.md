# Requirements Archive: v1.1 Authentication

**Archived:** 2026-01-22
**Status:** ✅ SHIPPED

This is the archived requirements specification for v1.1.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

## v1.1 Requirements

Requirements for authentication milestone: Restrict access to authorized @talenta.com.my users with role-based permissions.

### Authentication

- [x] **AUTH-01**: User can sign in with Google OAuth
- [x] **AUTH-02**: User without @talenta.com.my email sees "Access Denied" page
- [x] **AUTH-03**: User session persists across browser refresh
- [x] **AUTH-04**: User can sign out
- [x] **AUTH-05**: User sees branded login page with Google sign-in button

### Role Management

- [x] **ROLE-01**: New @talenta.com.my user is automatically created as Viewer
- [x] **ROLE-02**: User role (ADMIN, EDITOR, VIEWER) is stored in database
- [x] **ROLE-03**: Admin (khairul@talenta.com.my) is seeded on first run
- [x] **ROLE-04**: Admin can view list of all users with their roles
- [x] **ROLE-05**: Admin can change user role (promote/demote)
- [x] **ROLE-06**: Admin can remove user access

### Route Protection

- [x] **PROT-01**: Unauthenticated user is redirected to login page
- [x] **PROT-02**: API endpoints return 401 for unauthenticated requests
- [x] **PROT-03**: API endpoints return 403 for unauthorized role
- [x] **PROT-04**: Admin-only pages (user management) block non-admins

### Role-Based UI

- [x] **UI-01**: Viewer cannot see edit controls (status dropdown, reassign, etc.)
- [x] **UI-02**: Viewer CAN add comments (participation allowed)
- [x] **UI-03**: Viewer cannot see Kanban quick action menu
- [x] **UI-04**: Editor and Admin see full edit controls
- [x] **UI-05**: Only Admin sees "Manage Users" link in navigation

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| AUTH-01 | Phase 4 | ✓ Complete |
| AUTH-02 | Phase 4 | ✓ Complete |
| AUTH-03 | Phase 4 | ✓ Complete |
| AUTH-04 | Phase 4 | ✓ Complete |
| AUTH-05 | Phase 4 | ✓ Complete |
| ROLE-01 | Phase 5 | ✓ Complete |
| ROLE-02 | Phase 5 | ✓ Complete |
| ROLE-03 | Phase 5 | ✓ Complete |
| ROLE-04 | Phase 7 | ✓ Complete |
| ROLE-05 | Phase 7 | ✓ Complete |
| ROLE-06 | Phase 7 | ✓ Complete |
| PROT-01 | Phase 4 | ✓ Complete |
| PROT-02 | Phase 6 | ✓ Complete |
| PROT-03 | Phase 6 | ✓ Complete |
| PROT-04 | Phase 6 | ✓ Complete |
| UI-01 | Phase 8 | ✓ Complete |
| UI-02 | Phase 8 | ✓ Complete |
| UI-03 | Phase 8 | ✓ Complete |
| UI-04 | Phase 8 | ✓ Complete |
| UI-05 | Phase 8 | ✓ Complete |

---

## Milestone Summary

**Shipped:** 20 of 20 v1.1 requirements
**Adjusted:** None
**Dropped:** None

---
*Archived: 2026-01-22 as part of v1.1 milestone completion*
